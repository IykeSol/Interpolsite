# Supabase Integration Task

## Phase 1: Setup & Configuration
- [ ] Install `@supabase/supabase-js` package
- [ ] Create `src/app/lib/supabase.ts` client file with env var support
- [ ] Create `.env` file template with Supabase URL + anon key instructions

## Phase 2: Database Layer (supabaseStore.ts)
- [ ] Create `src/app/store/supabaseStore.ts` replacing localStorage with Supabase calls
  - [ ] [getComplaints()](file:///c:/Users/Iyke.sol/Interpolsite/src/app/store/complaintsStore.ts#56-64) — fetch all from Supabase
  - [ ] [saveComplaint()](file:///c:/Users/Iyke.sol/Interpolsite/src/app/store/complaintsStore.ts#65-70) — insert into Supabase
  - [ ] [updateComplaint()](file:///c:/Users/Iyke.sol/Interpolsite/src/app/store/complaintsStore.ts#71-79) — update row in Supabase
  - [ ] [getComplaintByCaseNumber()](file:///c:/Users/Iyke.sol/Interpolsite/src/app/store/complaintsStore.ts#80-85) — query by case_number
- [ ] Keep [complaintsStore.ts](file:///c:/Users/Iyke.sol/Interpolsite/src/app/store/complaintsStore.ts) as fallback (localStorage) for when Supabase is not configured

## Phase 3: Update Pages
- [ ] Update [FileComplaint.tsx](file:///c:/Users/Iyke.sol/Interpolsite/src/app/pages/FileComplaint.tsx) to save to Supabase (with fallback)
- [ ] Update [TrackCase.tsx](file:///c:/Users/Iyke.sol/Interpolsite/src/app/pages/TrackCase.tsx) to query Supabase (with fallback)
- [ ] Update [AdminDashboard.tsx](file:///c:/Users/Iyke.sol/Interpolsite/src/app/pages/AdminDashboard.tsx) to load from Supabase + loading states
- [ ] Update [AdminLogin.tsx](file:///c:/Users/Iyke.sol/Interpolsite/src/app/pages/AdminLogin.tsx) to authenticate against Supabase admin table (with hardcoded fallback)

## Phase 4: Admin Enhancements
- [ ] Add "Mark as Resolved" quick-action button directly on table rows
- [ ] Add loading spinner while fetching from Supabase
- [ ] Add real-time refresh / polling option

## Phase 5: Documentation
- [ ] Create `.env.example` file
- [ ] Create `SUPABASE_SETUP.md` with SQL schema and setup instructions
